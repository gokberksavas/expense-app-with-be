{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ResidentInput from \"./ResidentInput.vue\";\nimport ResidentList from './ResidentList.vue';\nimport axios from 'axios';\nvar baseUrl = 'http://localhost:5000';\nexport default {\n  name: \"ResidentSection\",\n  data: function data() {\n    return {\n      savedResidents: []\n    };\n  },\n  props: {},\n  components: {\n    ResidentInput: ResidentInput,\n    ResidentList: ResidentList\n  },\n  methods: {\n    addResident: function addResident(resident) {\n      axios.post(baseUrl + '/create-user', {\n        name: resident\n      }).then(this.getResidents());\n    },\n    removeResident: function removeResident($event, savedResidents) {\n      var remainingResidents = savedResidents.filter(function (resident) {\n        return !$event.includes(resident);\n      });\n      this.savedResidents = remainingResidents;\n    },\n    getResidents: function getResidents() {\n      var _this = this;\n\n      axios.get(baseUrl + '/users').then(function (res) {\n        var users = res.data.map(function (user) {\n          return user.name;\n        });\n        _this.savedResidents = users;\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getResidents();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;AAUA;AACA;AACA;AAEA;AAEA;AACAA,yBADA;AAEAC;AACA;AACAC;AADA;AAGA,GANA;AAOAC,WAPA;AAQAC;AACAC,gCADA;AAEAC;AAFA,GARA;AAYAC;AACAC;AACAC;AAAAT;AAAA;AAEA,KAJA;AAKAU;AACA;AACA;AACA,OAFA;AAIA;AACA,KAXA;AAYAC;AAAA;;AACAF,oCACAG,IADA,CACA;AACA;AACA;AACA,SAFA;AAIA;AACA,OAPA,EAQAC,KARA,CAQA;AAAAC;AAAA,OARA;AASA;AAtBA,GAZA;AAoCAC,SApCA,qBAoCA;AACA;AACA;AAtCA","names":["name","data","savedResidents","props","components","ResidentInput","ResidentList","methods","addResident","axios","removeResident","getResidents","then","catch","console","mounted"],"sourceRoot":"src/components/resident-section","sources":["ResidentSection.vue"],"sourcesContent":["<template>\r\n    <section class=\"resident-section\">\r\n        <div class=\"resident-wrapper\">\r\n            <ResidentInput :saved-residents=\"savedResidents\" @resident-added=\"addResident($event)\"/>\r\n\t\t\t<ResidentList :saved-residents=\"savedResidents\" @resident-removed=\"removeResident($event, savedResidents)\"/>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport ResidentInput from \"./ResidentInput.vue\"\r\nimport ResidentList from './ResidentList.vue'\r\nimport axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:5000';\r\n\r\nexport default {\r\n\tname: \"ResidentSection\",\r\n\tdata: function () {\r\n\treturn {\r\n\t\tsavedResidents: [],\r\n\t};\r\n\t},\r\n\tprops: {},\r\n\tcomponents: { \r\n\t\tResidentInput,\r\n\t\tResidentList\r\n\t},\r\n\tmethods: {\r\n\t\taddResident: function (resident) {\r\n            axios.post(baseUrl + '/create-user', { name: resident }).then(this.getResidents());\r\n\r\n\t\t},\r\n\t\tremoveResident: function ($event, savedResidents) {\r\n\t\t\tlet remainingResidents = savedResidents.filter(function (resident) {\r\n\t\t\t\treturn !$event.includes(resident);\r\n\t\t\t});\r\n\r\n\t\t\tthis.savedResidents = remainingResidents;\r\n\t\t},\r\n        getResidents: function () {\r\n            axios.get(baseUrl + '/users')\r\n                .then(res => {\r\n                    let users = res.data.map(user => {\r\n                        return user.name;\r\n                    });\r\n\r\n                    this.savedResidents = users;\r\n                })\r\n                .catch(err => { console.log(err) });\r\n        }\r\n\t},\r\n    mounted() {\r\n        this.getResidents();\r\n    }\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}